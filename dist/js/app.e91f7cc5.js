(function(t){function e(e){for(var a,c,s=e[0],o=e[1],u=e[2],d=0,h=[];d<s.length;d++)c=s[d],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&h.push(r[c][0]),r[c]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);l&&l(e);while(h.length)h.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,s=1;s<n.length;s++){var o=n[s];0!==r[o]&&(a=!1)}a&&(i.splice(e--,1),t=c(c.s=n[0]))}return t}var a={},r={app:0},i=[];function c(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=t,c.c=a,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(n,a,function(e){return t[e]}.bind(null,a));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],o=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=o;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"02c0":function(t,e,n){},"02e6":function(t,e,n){},"034f":function(t,e,n){"use strict";var a=n("85ec"),r=n.n(a);r.a},"079d":function(t,e,n){"use strict";n.r(e),e["default"]={id:"chevron-usage",viewBox:"0 0 50 50",url:n.p+"img/icons.bacb3c2a.svg#chevron",toString:function(){return this.url}}},"0cbc":function(t,e,n){"use strict";var a=n("93e8"),r=n.n(a);r.a},"0ce7":function(t,e,n){},"0df5":function(t,e,n){"use strict";var a=n("2af9"),r=n.n(a);r.a},1010:function(t,e,n){"use strict";var a=n("1c02"),r=n.n(a);r.a},"1c02":function(t,e,n){},2324:function(t,e,n){"use strict";var a=n("a0f1"),r=n.n(a);r.a},"240e":function(t,e,n){"use strict";var a=n("f149"),r=n.n(a);r.a},"245c":function(t,e,n){},"2af9":function(t,e,n){},"36e3":function(t,e,n){"use strict";var a=n("ba0a"),r=n.n(a);r.a},"4f38":function(t,e,n){"use strict";var a=n("0ce7"),r=n.n(a);r.a},"5b1c":function(t,e,n){"use strict";n.r(e),e["default"]={id:"logo-usage",viewBox:"0 0 22 22",url:n.p+"img/icons.bacb3c2a.svg#logo",toString:function(){return this.url}}},"64fe":function(t,e,n){"use strict";n.r(e),e["default"]={id:"shield-usage",viewBox:"0 0 48 48",url:n.p+"img/icons.bacb3c2a.svg#shield",toString:function(){return this.url}}},"6b15":function(t,e,n){"use strict";var a=n("da36"),r=n.n(a);r.a},"6f32":function(t,e,n){var a={"./chevron.svg":"079d","./heart.svg":"7d16","./logo.svg":"5b1c","./plus.svg":"eb38","./shield.svg":"64fe"};function r(t){var e=i(t);return n(e)}function i(t){if(!n.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}r.keys=function(){return Object.keys(a)},r.resolve=i,t.exports=r,r.id="6f32"},"7d16":function(t,e,n){"use strict";n.r(e),e["default"]={id:"heart-usage",viewBox:"0 0 50 50",url:n.p+"img/icons.bacb3c2a.svg#heart",toString:function(){return this.url}}},"84c1":function(t,e,n){"use strict";var a=n("8e62"),r=n.n(a);r.a},"85ec":function(t,e,n){},8837:function(t,e,n){"use strict";var a=n("02c0"),r=n.n(a);r.a},"8b2f":function(t,e,n){"use strict";var a=n("e009"),r=n.n(a);r.a},"8e62":function(t,e,n){},"913e":function(t,e,n){},"93e8":function(t,e,n){},a0f1:function(t,e,n){},b684:function(t,e,n){},ba0a:function(t,e,n){},c79e:function(t,e,n){"use strict";var a=n("913e"),r=n.n(a);r.a},c83d:function(t,e,n){"use strict";var a=n("245c"),r=n.n(a);r.a},cd49:function(t,e,n){"use strict";n.r(e);var a=n("2b0e"),r=n("e37d"),i=(n("f5df"),n("fda0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex flex-col h-screen bg-gray-200"},[n("MainMenu"),n("router-view")],1)}),c=[],s=n("9ab4"),o=n("60a3"),u=n("7940"),l=n("8c4f"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Home"},[n("div",{},[n("PageTitle",{attrs:{title:"Welcome home",subtitle:"your monsters are waiting."}}),t._m(0)],1)])},h=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"u-container-fluid"},[n("p",[t._v("Enim proident voluptate adipisicing nisi sunt aute laboris laborum proident pariatur. Eu sunt aute duis qui anim ad tempor consequat et elit nisi culpa incididunt. Irure veniam magna amet quis adipisicing adipisicing culpa non esse magna commodo culpa exercitation.")]),n("p",[t._v("In nostrud fugiat aliquip id sunt sint tempor magna. Incididunt cillum in officia laboris laboris quis voluptate ex nulla ullamco commodo et. Eu id duis pariatur incididunt. Aliqua nulla velit adipisicing aute nulla. Mollit ipsum et reprehenderit proident mollit eu sit enim do minim ad voluptate quis reprehenderit.")])])}],p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bg-gray-300 mb-6"},[n("div",{staticClass:"u-container-fluid"},[n("div",{staticClass:"PageTitle py-3"},[n("h1",{staticClass:"h3 inline-block mr-4 mb-0"},[t._v(t._s(t.title))]),t.subtitle?n("p",{staticClass:"inline italic text-gray-600"},[t._v(t._s(t.subtitle))]):t._e()])])])},f=[],m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s["__extends"])(e,t),Object(s["__decorate"])([Object(o["b"])({required:!0,type:String})],e.prototype,"title",void 0),Object(s["__decorate"])([Object(o["b"])({required:!1,type:String})],e.prototype,"subtitle",void 0),e=Object(s["__decorate"])([Object(o["a"])({components:{PageTitle:y}})],e),e}(o["c"]),v=m,b=v,g=n("2877"),_=Object(g["a"])(b,p,f,!1,null,null,null),y=_.exports,C=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s["__extends"])(e,t),e=Object(s["__decorate"])([Object(o["a"])({components:{PageTitle:y}})],e),e}(o["c"]),x=C,O=x,j=Object(g["a"])(O,d,h,!1,null,null,null),w=j.exports,k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Characters"},[n("PageTitle",{attrs:{title:"My monsters and characters.",subtitle:"create or edit your own monsters and characters."}}),n("div",{staticClass:"u-container-fluid"},[n("div",{staticClass:"flex"},[n("div",{staticClass:"Characters-myCharacters w-1/2 mt-3 mr-3"},[n("div",{staticClass:"card border-b"},[n("h4",[t._v("Create a new monster or character")]),n("p",[t._v("Create a character from scratch starting with a basic "),n("router-link",{attrs:{to:{name:"characterBuilder",query:{new:1}}}},[t._v("character sheet")]),t._v(".")],1),n("div",{staticClass:"w-1/2"},[n("Button",{attrs:{"is-big":!0,"is-success":!0}},[n("router-link",{attrs:{to:{name:"characterBuilder",query:{new:1}}}},[t._v(" start new character ")])],1)],1)]),n("div",{staticClass:"u-scrollBoxParent"},[n("div",{staticClass:"u-scrollBoxChild"},[t.characters.length>0?n("ul",{staticClass:"divide-y divide-gray-300 border-b"},t._l(t.characters,(function(e){return n("li",{key:e.uuid},[n("CharacterTeaser",{attrs:{"character-data":e},nativeOn:{click:function(n){return t.handleTeaserActioned(e)}}},[n("Button",[t._v("Edit")])],1)],1)})),0):t._e()])])]),n("div",{staticClass:"Characters-library w-1/2 mt-3 mr-4 bg-white"},[t._m(0),n("CharacterLibrary",{staticClass:"Characters-library",attrs:{buttonText:"Use as base"},on:{characterClicked:t.handleCharacterClicked}})],1)])])],1)},I=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card pb-0"},[n("h4",[t._v("Existing characters")]),n("p",[t._v("You can choose an existing character from the list below as your base.")])])}],E=n("8aa5"),S=n.n(E),D=(n("ea7b"),n("e71f"),{apiKey:"AIzaSyBnsD8E9GV10_rSaifr0FYNJpurrWJWGtY",authDomain:"initracker-kkk.firebaseapp.com",databaseURL:"https://initracker-kkk.firebaseio.com",projectId:"initracker-kkk",storageBucket:"initracker-kkk.appspot.com",messagingSenderId:"783827330434"}),N=E["initializeApp"](D),$=N.firestore();function A(){return!!N.auth().currentUser}var P,B=n("c437"),T=n.n(B),L=n("2ef0");(function(t){t["aberration"]="Aberration",t["beast"]="Beast",t["celestial"]="Celestial",t["construct"]="Construct",t["dragon"]="Dragon",t["elemental"]="Elemental",t["fey"]="Fey",t["fiend"]="Fiend",t["giant"]="Giant",t["humanoid"]="Humanoid",t["monstrosity"]="Monstrosity",t["ooze"]="Ooze",t["plant"]="Plant",t["undead"]="Undead"})(P||(P={}));var F,M=P;(function(t){t["LawfulGood"]="lawful good",t["NeutralGood"]="neutral good",t["ChaoticGood"]="chaotic good",t["LawfulNeutral"]="lawful neutral",t["Neutral"]="neutral",t["ChaoticNeutral"]="chaotic neutral",t["LawfulEvil"]="lawful evil",t["NeutralEvil"]="neutral evil",t["ChaoticEvil"]="chaotic evil"})(F||(F={}));var R,H=F;(function(t){t["Tiny"]="Tiny",t["Small"]="Small",t["Medium"]="Medium",t["Large"]="Large",t["Huge"]="Huge",t["Gargantuan"]="Gargantuan"})(R||(R={}));var U=R,q=function(){function t(e){if(this.conditions=[],this.actions=[],this.alignment=H.NeutralGood,this.armor_class=10,this.armor_desc="",this.challenge_rating="",this.charisma=10,this.charisma_save=0,this.condition_immunities="",this.constitution=10,this.constitution_save=0,this.damage_immunities="",this.damage_resistances="",this.damage_vulnerabilities="",this.dexterity=10,this.dexterity_save=0,this.group="",this.hit_dice="",this.hit_points=10,this.intelligence=10,this.intelligence_save=0,this.languages="Common",this.legendary_actions=[],this.name="My new character",this.perception=10,this.reactions="",this.senses="",this.size=U.Medium,this.special_abilities=[],this.strength=10,this.strength_save=0,this.subtype="",this.type=M.humanoid,this.wisdom=10,this.wisdom_save=0,this.initiative=10,e){var n=new t;Object(L["mergeWith"])(n,e,(function(t,e){if(Object(L["isNull"])(e))return t})),""===n.legendary_actions&&(n.legendary_actions=[]),Object.assign(this,n)}else this.id=this.name,this.hit_points_current=this.hit_points,this.uuid=T()(),this.speed={walk:30,swim:10,fly:0,burrow:0,climb:0}}return t}(),G={namespaced:!0,state:{characters:[]},getters:{getCharacters:function(t){return t.characters}},actions:{fetchCharacters:function(t){var e=Gr(t);$.collection("users/"+e+"/characters").onSnapshot((function(e){var n=e.docs.map((function(t){return new q(t.data())}));K(t,{characters:n})}))}},mutations:{updateCharacters:function(t,e){var n=e.newChar;t.characters.push(n)},setCharacters:function(t,e){var n=e.characters;t.characters=n}}},V=Object(u["getStoreAccessors"])("charactersModule"),z=V.commit,W=V.read,Y=V.dispatch,J=W(G.getters.getCharacters),K=(z(G.mutations.updateCharacters),z(G.mutations.setCharacters)),X=Y(G.actions.fetchCharacters),Q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.characterData?n("div",{staticClass:"bg-white cursor-pointer hover:bg-gray-100 transition duration-100"},[n("div",{staticClass:"flex w-full justify-between items-start p-2 pb-1"},[n("h4",{staticClass:"CharacterSearchResult-name m-0 font-semibold mr-1"},[t._v(t._s(t.characterData.name))]),n("p",{staticClass:"CharacterSearchResult-meta ml-auto text-xs italic text-gray-600 text-right"},[t._v(t._s(t.characterData.size))])]),n("div",{staticClass:"flex items-end w-full p-2 pt-0 justify-between items-center"},[n("div",{staticClass:"flex text-gray-600 font-light text-sm"},[n("div",{staticClass:"mr-4 flex items-center"},[n("SvgIcon",{staticClass:"mr-1 text-red-600",attrs:{name:"heart"}}),t._v(" "+t._s(t.characterData.hit_points)+" ")],1),n("div",{staticClass:"mr-4 flex items-center"},[n("SvgIcon",{staticClass:"mr-1 text-gray-300",attrs:{name:"shield"}}),t._v(" "+t._s(t.characterData.armor_class)+" ")],1),n("div",{staticClass:"flex items-center"},[n("p",{staticClass:"font-semibold mb-0"},[t._v("CR")]),n("p",{staticClass:"ml-1 mb-0"},[t._v(t._s(t.characterData.challenge_rating))])])]),n("div",[t._t("default")],2)])]):t._e()},Z=[],tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-sm overflow-hidden bg-white"},[n("div",{staticClass:"p-4 bg-blue-600 text-blue-100"},[n("h4",{staticClass:"mb-0 text-base font-semibold"},[t._v(t._s(t.characterData.name))]),n("p",{staticClass:"mb-0 italic"},[t._v(t._s(t.characterData.size)+", "+t._s(t.characterData.alignment)+" "+t._s(t.characterData.type)+" with a CR of "+t._s(t.characterData.challenge_rating))])]),n("div",{staticClass:"bg-gray-400"},[n("div",{staticClass:"flex justify-between px-4 py-3"},t._l(t.statsArray,(function(e,a,r){return n("div",{key:r,staticClass:"w-full"},[n("p",{staticClass:"uppercase mb-0 font-bold"},[t._v(t._s(a))]),n("p",{staticClass:"m-0 mt-1"},[t._v(" "+t._s(t.characterData[e.toLowerCase()])+" "),n("span",{staticClass:"text-gray-600 text-xs"},[t._v(t._s(t.stringModifier(t.characterData[e.toLowerCase()])))])])])})),0)]),n("div",{staticClass:"p-4 bg-gray-300"},[n("div",{staticClass:"flex"},[n("div",{staticClass:"w-1/2 flex items-center"},[n("CharacterHealth",{attrs:{uuid:t.characterData.uuid,hp:t.characterData.hit_points}}),n("p",{staticClass:"ml-2 mb-0"},[n("b",[t._v("Dice:")]),t._v(" "+t._s(t.characterData.hit_dice))])],1),n("div",{staticClass:"w-1/2 flex items-center"},[n("CharacterArmorClass",{attrs:{armorClass:t.characterData.armor_class}}),t.characterData.armor_desc?n("p",{staticClass:"mb-0"},[t._v(t._s(t.characterData.armor_desc))]):n("p",{staticClass:"mb-0"},[t._v("Armor Class")])],1)]),n("p",{staticClass:"mt-3"},[n("span",{staticClass:"font-bold"},[t._v("Speed")]),t._v(" "+t._s(t.speedString)+" ")]),t.characterData.senses?n("p",{staticClass:"mb-2"},[n("span",{staticClass:"font-bold"},[t._v("Senses")]),t._v(" "+t._s(t.characterData.senses)+" ")]):t._e(),t.characterData.languages?n("p",[n("span",{staticClass:"font-bold"},[t._v("Languages")]),t._v(" "+t._s(t.characterData.languages)+" ")]):t._e(),t.characterData.challenge_rating?n("p",[n("span",{staticClass:"font-bold"},[t._v("Challenge Rating")]),t._v(" "+t._s(t.characterData.challenge_rating)+" ")]):t._e(),t.characterData.damage_immunities?n("p",[n("span",{staticClass:"font-bold"},[t._v("Damage Immunities")]),t._v(" "+t._s(t.characterData.damage_immunities)+" ")]):t._e(),t.characterData.damage_resistances?n("p",[n("span",{staticClass:"font-bold"},[t._v("Damage Resistances")]),t._v(" "+t._s(t.characterData.damage_resistances)+" ")]):t._e(),t.characterData.damage_vulnerabilities?n("p",[n("span",{staticClass:"font-bold"},[t._v("Damage Vulnerabilities")]),t._v(" "+t._s(t.characterData.damage_vulnerabilities)+" ")]):t._e()]),n("div",{staticClass:"p-4"},[t.characterData.special_abilities?t._l(t.characterData.special_abilities,(function(e,a){return n("p",{key:"special-"+a},[n("span",{staticClass:"font-bold"},[t._v(t._s(e.name)+".")]),t._v(" "+t._s(e.desc)+" ")])})):t._e(),t.characterData.actions.length>0?[n("h3",{staticClass:"CharacterDetails-sectionHeadline"},[t._v("Actions")]),t._l(t.characterData.actions,(function(e,a){return n("p",{key:a},[n("span",{staticClass:"font-bold"},[t._v(t._s(e.name)+".")]),t._v(" "+t._s(e.desc)+" ")])}))]:t._e(),t.characterData.legendary_actions.length>0?[n("h3",{staticClass:"CharacterDetails-sectionHeadline"},[t._v("Legendary Actions")]),n("p",[t._v("The "+t._s(t.characterData.name)+" can take 3 legendary actions, choosing from the options below. Only one legendary action option can be used at a time and only at the end of another creature's turn. The "+t._s(t.characterData.name)+" regains spent legendary actions at the start of its turn.")]),t._l(t.characterData.legendary_actions,(function(e,a){return n("p",{key:"legendary-"+a},[n("span",{staticClass:"font-bold"},[t._v(t._s(e.name)+".")]),t._v(" "+t._s(e.desc)+" ")])}))]:t._e()],2)])},et=[];function nt(t){return Math.floor((t-10)/2)}function at(t){return 0===t?"":t>=0?"(+"+t+")":"("+t+")"}function rt(t){var e=nt(t);return e>0?"+"+e:0===e?"":""+e}function it(t){return at(nt(t))}var ct,st=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"CharacterArmorClass"},[n("SvgIcon",{staticClass:"CharacterArmorClass-icon text-gray-200",attrs:{name:"shield"}}),n("p",{staticClass:"CharacterArmorClass-amount text-gray-600"},[t._v(t._s(t.armorClass))])],1)])},ot=[],ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{class:t.className,attrs:{xmlns:"http://www.w3.org/2000/svg",title:t.title,alt:t.title}},[t.title?n("title",[t._v(t._s(t.title))]):t._e(),n("use",{attrs:{"xlink:href":t.iconPath,"xmlns:xlink":"http://www.w3.org/1999/xlink"}})])},lt=[],dt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s["__extends"])(e,t),Object.defineProperty(e.prototype,"iconPath",{get:function(){var t=n("6f32")("./"+this.name+".svg");return Object.prototype.hasOwnProperty.call(t,"default")&&(t=t.default),t.url},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return"SvgIcon SvgIcon--"+this.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"title",{get:function(){return this.name+" icon"},enumerable:!0,configurable:!0}),Object(s["__decorate"])([Object(o["b"])({default:"placeholder"})],e.prototype,"name",void 0),e=Object(s["__decorate"])([o["a"]],e),e}(o["c"]),ht=dt,pt=ht,ft=(n("0df5"),Object(g["a"])(pt,ut,lt,!1,null,null,null)),mt=ft.exports,vt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s["__extends"])(e,t),Object(s["__decorate"])([Object(o["b"])({required:!0,type:Number})],e.prototype,"armorClass",void 0),e=Object(s["__decorate"])([Object(o["a"])({components:{SvgIcon:mt}})],e),e}(o["c"]),bt=vt,gt=bt,_t=(n("8b2f"),Object(g["a"])(gt,st,ot,!1,null,null,null)),yt=_t.exports,Ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"CharacterHealth"},[n("div",{staticClass:"CharacterHealth-wrapper"},[n("SvgIcon",{staticClass:"CharacterHealth-icon",attrs:{name:"heart"}}),n("div",{staticClass:"CharacterHealth-hpWrapper"},[n("p",{staticClass:"CharacterHealth-hp mb-0"},[t._v(t._s(t.hp))])])],1)])},xt=[],Ot=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s["__extends"])(e,t),Object(s["__decorate"])([Object(o["b"])({type:String})],e.prototype,"uuid",void 0),Object(s["__decorate"])([Object(o["b"])({type:Number,required:!0})],e.prototype,"hp",void 0),e=Object(s["__decorate"])([Object(o["a"])({components:{SvgIcon:mt}})],e),e}(o["c"]),jt=Ot,wt=jt,kt=(n("240e"),Object(g["a"])(wt,Ct,xt,!1,null,null,null)),It=kt.exports;(function(t){t["STR"]="Strength",t["DEX"]="Dexterity",t["CON"]="Constitution",t["INT"]="Intelligence",t["WIS"]="Wisdom",t["CHA"]="Charisma"})(ct||(ct={}));var Et,St=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.speedString="",e}return Object(s["__extends"])(e,t),e.prototype.stringModifier=function(t){return it(t)},Object.defineProperty(e.prototype,"statsArray",{get:function(){return ct},enumerable:!0,configurable:!0}),e.prototype.updateSpeedString=function(t){var e=Object.keys(t);this.speedString=e.reduce((function(e,n){var a=t[n];return a>0?""!==e?e+", "+a+"ft ("+n+")":a+"ft ("+n+")":e}),"")},Object(s["__decorate"])([Object(o["b"])({type:Object,required:!0})],e.prototype,"characterData",void 0),Object(s["__decorate"])([Object(o["b"])({type:Boolean,default:!1})],e.prototype,"isWide",void 0),Object(s["__decorate"])([Object(o["d"])("characterData.speed",{immediate:!0,deep:!0})],e.prototype,"updateSpeedString",null),e=Object(s["__decorate"])([Object(o["a"])({components:{CharacterArmorClass:yt,CharacterHealth:It}})],e),e}(o["c"]),Dt=St,Nt=Dt,$t=(n("36e3"),Object(g["a"])(Nt,tt,et,!1,null,null,null)),At=$t.exports,Pt={namespaced:!0,state:{encountersAll:[],encountersCurrent:null,encountersNpcs:[],npcInDetail:null},getters:{getEncountersAll:function(t){return t.encountersAll},getEncounterById:function(t){return function(e){return t.encountersAll.find((function(t){return t.id===e}))}},getEncountersCurrent:function(t){return t.encountersCurrent},getEncountersActiveNpc:function(t){if(t.encountersCurrent)return t.encountersNpcs[t.encountersCurrent.activeEntityIndex-1]},getEncountersCurrentId:function(t){return t.encountersCurrent?t.encountersCurrent.id:null},getNpcInDetail:function(t){return t.npcInDetail},getNpcUuidInDetail:function(t){if(t.npcInDetail)return t.npcInDetail.uuid},getEncountersCurrentNpcs:function(t){return t.encountersNpcs}},actions:{fetchEncounters:function(t){var e=Gr(t);$.collection("users/"+e+"/encounters").orderBy("createdAt","desc").onSnapshot((function(e){var n=[];e.forEach((function(t){n.push(t.data())})),zt(t,n)}))},fetchEncounterById:function(t,e){var n=e.encounterId,a=Gr(t);$.doc("users/"+a+"/encounters/"+n).onSnapshot((function(e){var a=e.data();Wt(t,a),Qt(t,{encounterId:n})}))},fetchEncountersCurrentNpcs:function(t,e){var n=e.encounterId,a=Gr(t);$.collection("users/"+a+"/encounters/"+n+"/npcs").orderBy("initiative","desc").onSnapshot((function(e){var n=[];e.forEach((function(t){n.push(t.data())})),Yt(t,{npcs:n})}))},addNpcToEncounter:function(t,e){var n=e.npcData,a=e.encounterId;return Object(s["__awaiter"])(this,void 0,void 0,(function(){var e,r,i;return Object(s["__generator"])(this,(function(c){switch(c.label){case 0:return e=Gr(t),r=T()(),n.uuid=r,n.conditions=[],n.initiative=0,n.hit_points_current=n.hit_points,[4,$.collection("users/"+e+"/encounters/"+a+"/npcs")];case 1:return i=c.sent(),i.doc(r).set(n),[2]}}))}))},removeNpcFromEncounter:function(t,e){var n=e.npcID,a=e.encounterId,r=Gr(t);$.collection("users/"+r+"/encounters").doc(a).collection("npcs").doc(n).delete()},addNewEncounter:function(t,e){var n=e.encounterName;return Object(s["__awaiter"])(this,void 0,void 0,(function(){var e,a,r,i;return Object(s["__generator"])(this,(function(c){switch(c.label){case 0:return e=Gr(t),a=T()(),[4,$.collection("users/"+e+"/encounters")];case 1:return r=c.sent(),i={id:a,name:n,round:1,activeEntityIndex:1,createdAt:Date.now()},r.doc(a).set(i),[2]}}))}))},removeEncounter:function(t,e){var n=e.encounterId,a=Gr(t);$.collection("users/"+a+"/encounters").doc(n).delete()},updateName:function(t,e){var n=e.encounterId,a=e.newName;return Object(s["__awaiter"])(this,void 0,void 0,(function(){var e,r;return Object(s["__generator"])(this,(function(i){switch(i.label){case 0:return e=Gr(t),[4,$.collection("users/"+e+"/encounters").doc(n)];case 1:return r=i.sent(),r.set({name:a},{merge:!0}),[2]}}))}))},updateRound:function(t,e){var n=e.encounterId,a=e.newRoundIndex;return Object(s["__awaiter"])(this,void 0,void 0,(function(){var e,r;return Object(s["__generator"])(this,(function(i){switch(i.label){case 0:return e=Gr(t),[4,$.collection("users/"+e+"/encounters").doc(n)];case 1:return r=i.sent(),r.set({round:a},{merge:!0}),[2]}}))}))},updateActiveEntityIndex:function(t,e){var n=e.encounterId,a=e.activeEntityIndex;return Object(s["__awaiter"])(this,void 0,void 0,(function(){var e,r;return Object(s["__generator"])(this,(function(i){switch(i.label){case 0:return e=Gr(t),[4,$.collection("users/"+e+"/encounters").doc(n)];case 1:return r=i.sent(),r.set({activeEntityIndex:a},{merge:!0}),[2]}}))}))}},mutations:{setEncounters:function(t,e){t.encountersAll=e},setEncounter:function(t,e){t.encountersCurrent=e},setEncountersCurrentNpcs:function(t,e){var n=e.npcs;t.encountersNpcs=n},setNpcInDetail:function(t,e){t.npcInDetail=e}}},Bt=Object(u["getStoreAccessors"])("encountersModule"),Tt=Bt.commit,Lt=Bt.read,Ft=Bt.dispatch,Mt=Lt(Pt.getters.getEncountersAll),Rt=(Lt(Pt.getters.getEncounterById),Lt(Pt.getters.getNpcInDetail)),Ht=Lt(Pt.getters.getNpcUuidInDetail),Ut=Lt(Pt.getters.getEncountersCurrent),qt=Lt(Pt.getters.getEncountersActiveNpc),Gt=Lt(Pt.getters.getEncountersCurrentId),Vt=Lt(Pt.getters.getEncountersCurrentNpcs),zt=Tt(Pt.mutations.setEncounters),Wt=Tt(Pt.mutations.setEncounter),Yt=Tt(Pt.mutations.setEncountersCurrentNpcs),Jt=Tt(Pt.mutations.setNpcInDetail),Kt=Ft(Pt.actions.fetchEncounters),Xt=Ft(Pt.actions.fetchEncounterById),Qt=Ft(Pt.actions.fetchEncountersCurrentNpcs),Zt=Ft(Pt.actions.addNpcToEncounter),te=Ft(Pt.actions.removeNpcFromEncounter),ee=Ft(Pt.actions.addNewEncounter),ne=Ft(Pt.actions.updateActiveEntityIndex),ae=Ft(Pt.actions.removeEncounter),re=Ft(Pt.actions.updateRound),ie=Ft(Pt.actions.updateName),ce=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s["__extends"])(e,t),Object.defineProperty(e.prototype,"encounterId",{get:function(){return Gt(this.$store)},enumerable:!0,configurable:!0}),e.prototype.addToEncounter=function(){this.encounterId&&Zt(this.$store,{npcData:Object.assign({},this.characterData),encounterId:this.encounterId})},e.prototype.selectCharacter=function(){Jt(this.$store,this.characterData)},Object(s["__decorate"])([Object(o["b"])({type:Object,required:!0})],e.prototype,"characterData",void 0),e=Object(s["__decorate"])([Object(o["a"])({components:{CharacterDetails:At,CharacterArmorClass:yt,CharacterHealth:It,SvgIcon:mt}})],e),e}(o["c"]),se=ce,oe=se,ue=Object(g["a"])(oe,Q,Z,!1,null,null,null),le=ue.exports,de=S.a.firestore.FieldValue.arrayUnion,he=S.a.firestore.FieldValue.arrayRemove,pe={namespaced:!0,state:{npcs:[]},getters:{getNpcs:function(t){return t.npcs},getNpcById:function(t){return function(e){return t.npcs.find((function(t){return t.id===e}))}},getSearchResults:function(t){return function(e){return t.npcs.filter((function(t){return t.name.toLowerCase().includes(e)}))}}},actions:{fetchNpcs:function(t){return Object(s["__awaiter"])(this,void 0,void 0,(function(){var e,n;return Object(s["__generator"])(this,(function(a){switch(a.label){case 0:return[4,$.collection("monsters").get()];case 1:return e=a.sent(),n=e.docs.reduce((function(t,e){var n=e.data();return n.id=e.id,t.push(n),t}),[]),_e(t,n),[2]}}))}))},openNpcsConnection:function(t){$.collection("npcs").onSnapshot((function(e){var n=e.docs.reduce((function(t,e){var n=e.data();return n.id=e.id,t.push(n),t}),[]);_e(t,n)}))},updateCondition:function(t,e){var n=e.encounterId,a=e.npcId,r=e.newCondition,i=Gr(t),c=$.doc("users/"+i+"/encounters/"+n+"/npcs/"+a);c.set({conditions:de(r)},{merge:!0})},removeConditionFromNpc:function(t,e){var n=e.encounterId,a=e.npcId,r=e.conditionId;return Object(s["__awaiter"])(this,void 0,void 0,(function(){var e,i,c;return Object(s["__generator"])(this,(function(s){return e=Gr(t),i=$.collection("users/"+e+"/encounters").doc(n),c=i.collection("npcs").doc(a),c.set({conditions:he(r)},{merge:!0}),[2]}))}))},updateInitiative:function(t,e){var n=e.encounterId,a=e.npcId,r=e.newInitiative,i=Gr(t),c=$.doc("users/"+i+"/encounters/"+n+"/npcs/"+a);c.set({initiative:r},{merge:!0})},updateHitPointCurrent:function(t,e){var n=e.encounterId,a=e.npcId,r=e.newHitPoints,i=Gr(t),c=$.collection("users/"+i+"/encounters").doc(n),s=c.collection("npcs").doc(a);s.set({hit_points_current:r},{merge:!0})}},mutations:{setNpcs:function(t,e){t.npcs=e}}},fe=Object(u["getStoreAccessors"])("npcsModule"),me=fe.commit,ve=fe.read,be=fe.dispatch,ge=ve(pe.getters.getNpcs),_e=(ve(pe.getters.getNpcById),ve(pe.getters.getSearchResults),me(pe.mutations.setNpcs)),ye=(be(pe.actions.openNpcsConnection),be(pe.actions.fetchNpcs)),Ce=be(pe.actions.updateCondition),xe=be(pe.actions.removeConditionFromNpc),Oe=be(pe.actions.updateInitiative),je=be(pe.actions.updateHitPointCurrent),we=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"CharactersLibrary"},[n("div",[n("div",{staticClass:"bg-white p-4 border-b"},[n("label",{staticClass:"Form-label block mb-1"},[t._v("Search category")]),n("Button",{attrs:{"is-secondary":"monsters"!==t.showType},on:{click:function(e){return t.switchTab("monsters")}}},[t._v(" Monsters ")]),n("Button",{attrs:{"is-secondary":"characters"!==t.showType},on:{click:function(e){return t.switchTab("characters")}}},[t._v(" Characters ")]),n("div",{staticClass:"Form mt-2"},[n("FormInput",{attrs:{label:"Name",placeholder:"Search monsters & characters by name"},model:{value:t.searchString,callback:function(e){t.searchString=e},expression:"searchString"}})],1)],1),n("div",{staticClass:"CharactersLibrary-scrollBox u-scrollBoxParent bg-white shadow"},[n("div",{ref:"monsterList",staticClass:"u-scrollBoxChild",on:{scroll:t.onScroll}},[t.filteredNpcs.length>0?n("ul",{staticClass:"divide-y divide-gray-300 border-b"},t._l(t.filteredNpcs,(function(e,a){return n("li",{key:e.uuid,staticClass:"CharactersLibrary-listItem"},[a<t.maxVisible?n("div",[n("CharacterTeaser",{attrs:{characterData:e},nativeOn:{click:function(n){return t.selectCharacter(e)}}},[n("Button",{on:{click:function(n){return t.$emit("characterClicked",e)}}},[t._v(t._s(t.buttonText))])],1)],1):t._e()])})),0):n("p",{staticClass:"u-tip",domProps:{innerHTML:t._s(t.noResultsText)}})])])])])},ke=[],Ie=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Form-item Form-item--input"},[n("label",{staticClass:"Form-label",attrs:{for:t.random}},[t._v(" "+t._s(t.label)+" ")]),n("input",t._g(t._b({staticClass:"Form-element Form-element--input",attrs:{id:t.random,type:t.isNumberField?"number":"",placeholder:t.placeholder},domProps:{value:t.value}},"input",t.$attrs,!1),t.inputListeners))])},Ee=[],Se=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.inheritAttrs=!1,e}return Object(s["__extends"])(e,t),Object.defineProperty(e.prototype,"isNumberField",{get:function(){return"number"===typeof this.value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"random",{get:function(){return Math.random()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputListeners",{get:function(){var t=this;return Object.assign({},this.$listeners,{input:function(e){return t.$emit("input",e.target.value)}})},enumerable:!0,configurable:!0}),Object(s["__decorate"])([Object(o["b"])({type:String,required:!1})],e.prototype,"label",void 0),Object(s["__decorate"])([Object(o["b"])({type:[Number,String],required:!1})],e.prototype,"value",void 0),Object(s["__decorate"])([Object(o["b"])({type:[Number,String],required:!1,default:""})],e.prototype,"placeholder",void 0),e=Object(s["__decorate"])([Object(o["a"])({})],e),e}(o["c"]),De=Se,Ne=De,$e=Object(g["a"])(Ne,Ie,Ee,!1,null,null,null),Ae=$e.exports,Pe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"Button",class:{"Button--small":t.isSmall,"Button--big":t.isBig,"Button--secondary":t.isSecondary,"Button--danger":t.isDanger,"Button--success":t.isSuccess,"has-prefix":t.hasPrefix,"has-postfix":t.hasPostfix}},[t.hasPrefix?n("span",{staticClass:"Button-prefix",on:{click:function(e){return e.preventDefault(),t.$emit("clickPrefix")}}},[t._t("prefix")],2):t._e(),n("span",{staticClass:"Button-content",on:{click:function(e){return e.preventDefault(),t.$emit("click")}}},[t._t("default")],2),t.hasPostfix?n("span",{staticClass:"Button-postfix",on:{click:function(e){return e.preventDefault(),t.$emit("clickPostfix")}}},[t._t("postfix")],2):t._e()])},Be=[],Te=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s["__extends"])(e,t),Object.defineProperty(e.prototype,"hasPrefix",{get:function(){return!!this.$slots.prefix},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasPostfix",{get:function(){return!!this.$slots.postfix},enumerable:!0,configurable:!0}),Object(s["__decorate"])([Object(o["b"])({required:!1,default:!1,type:Boolean})],e.prototype,"isSmall",void 0),Object(s["__decorate"])([Object(o["b"])({required:!1,default:!1,type:Boolean})],e.prototype,"isBig",void 0),Object(s["__decorate"])([Object(o["b"])({required:!1,default:!1,type:Boolean})],e.prototype,"isDanger",void 0),Object(s["__decorate"])([Object(o["b"])({required:!1,default:!1,type:Boolean})],e.prototype,"isSuccess",void 0),Object(s["__decorate"])([Object(o["b"])({required:!1,default:!1,type:Boolean})],e.prototype,"isSecondary",void 0),e=Object(s["__decorate"])([o["a"]],e),e}(o["c"]),Le=Te,Fe=Le,Me=(n("2324"),Object(g["a"])(Fe,Pe,Be,!1,null,null,null)),Re=Me.exports,He={MONSTERS:"monsters",CHARACTERS:"characters"},Ue=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.searchString="",e.maxVisible=15,e.showType=He.MONSTERS,e}return Object(s["__extends"])(e,t),Object.defineProperty(e.prototype,"npcs",{get:function(){return this.showType===He.MONSTERS?ge(this.$store):J(this.$store)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"noResultsText",{get:function(){return this.showType===He.MONSTERS?'No monsters found, please add some here <a href="/characters">here</a>':this.showType===He.CHARACTERS?'No characters found, you can create your own monsters and player-characters <a href="/characters">here</a>':void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filteredNpcs",{get:function(){var t=this;return""===this.searchString?this.npcs:this.npcs.filter((function(e){return e.name.toLowerCase().includes(t.searchString.toLowerCase())}))},enumerable:!0,configurable:!0}),e.prototype.onScroll=function(){var t=this.$refs.monsterList,e=t.scrollHeight-t.scrollTop,n=t.clientHeight,a=100;e<n+a&&(this.maxVisible+=10)},e.prototype.switchTab=function(t){this.showType=t},Object.defineProperty(e.prototype,"characters",{get:function(){return J(this.$store)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"encounterId",{get:function(){return Gt(this.$store)},enumerable:!0,configurable:!0}),e.prototype.selectCharacter=function(t){Jt(this.$store,t)},e.prototype.mounted=function(){X(this.$store)},Object(s["__decorate"])([Object(o["b"])({type:String,default:"Add"})],e.prototype,"buttonText",void 0),e=Object(s["__decorate"])([Object(o["a"])({components:{Button:Re,CharacterTeaser:le,FormInput:Ae}})],e),e}(o["c"]),qe=Ue,Ge=qe,Ve=(n("8837"),Object(g["a"])(Ge,we,ke,!1,null,"18f20db6",null)),ze=Ve.exports,We=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s["__extends"])(e,t),Object.defineProperty(e.prototype,"characters",{get:function(){return J(this.$store)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"npcs",{get:function(){return ge(this.$store)},enumerable:!0,configurable:!0}),e.prototype.mounted=function(){X(this.$store)},e.prototype.handleTeaserActioned=function(t){this.$router.push({name:"editCharacter",params:{uuid:t.uuid}})},e.prototype.handleCharacterClicked=function(t){this.$router.push({name:"characterCreate",params:{characterId:t.id}})},e=Object(s["__decorate"])([Object(o["a"])({components:{Button:Re,CharacterTeaser:le,PageTitle:y,CharacterLibrary:ze}})],e),e}(o["c"]),Ye=We,Je=Ye,Ke=(n("0cbc"),Object(g["a"])(Je,k,I,!1,null,null,null)),Xe=Ke.exports,Qe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},[n("PageTitle",{attrs:{title:"Character editor",subtitle:"Here you can create or edit an existing character."}}),n("div",{staticClass:"u-container-fluid"},[t.isLoading?n("div",{staticClass:"u-tip"},[t._v("Loading..")]):n("div",[n("CharacterBuilder",{attrs:{character:t.character}})],1)])],1)},Ze=[],tn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",[n("Button",{attrs:{"is-success":!0,disabled:!t.hasChanged},on:{click:t.saveCharacter}},[t._v("Save")]),t.isNewCharacter?t._e():n("Button",{attrs:{"is-danger":!0},on:{click:t.deleteCharacter}},[t._v("Delete")])],1),n("div",{staticClass:"CharacterBuilder flex"},[n("div",{staticClass:"w-1/2 mr-3 card card--rounded card--shadow"},[n("div",{staticClass:"CharacterBuilder-wrapper u-scrollBoxParent"},[n("div",{staticClass:"u-scrollBoxChild"},[n("form",{staticClass:"Form"},[n("div",{staticClass:"u-columns-2"},[n("FormInput",{attrs:{label:"Name"},model:{value:t.character.name,callback:function(e){t.$set(t.character,"name",e)},expression:"character.name"}}),n("FormInput",{attrs:{label:"Challenge rating"},model:{value:t.character.challenge_rating,callback:function(e){t.$set(t.character,"challenge_rating",e)},expression:"character.challenge_rating"}})],1),n("div",{staticClass:"u-columns-3"},[n("FormSelect",{attrs:{options:t.optionsSize,label:"Size",optionSelected:t.character.size},model:{value:t.character.size,callback:function(e){t.$set(t.character,"size",e)},expression:"character.size"}}),n("FormSelect",{attrs:{options:t.optionsTypes,label:"Type",optionSelected:t.character.type},model:{value:t.character.type,callback:function(e){t.$set(t.character,"type",e)},expression:"character.type"}}),n("FormSelect",{attrs:{options:t.optionsAlignment,label:"Alignment",optionSelected:t.character.alignment},model:{value:t.character.alignment,callback:function(e){t.$set(t.character,"alignment",e)},expression:"character.alignment"}})],1),n("div",{staticClass:"u-columns-2"},[n("FormInput",{attrs:{label:"Armor Class"},model:{value:t.character.armor_class,callback:function(e){t.$set(t.character,"armor_class",t._n(e))},expression:"character.armor_class"}}),n("FormInput",{attrs:{label:"Armor Description"},model:{value:t.character.armor_desc,callback:function(e){t.$set(t.character,"armor_desc",e)},expression:"character.armor_desc"}})],1),n("div",{staticClass:"u-columns-2"},[n("FormInput",{attrs:{label:"Hit points"},model:{value:t.character.hit_points,callback:function(e){t.$set(t.character,"hit_points",t._n(e))},expression:"character.hit_points"}}),n("FormInput",{attrs:{label:"Hit dice"},model:{value:t.character.hit_dice,callback:function(e){t.$set(t.character,"hit_dice",e)},expression:"character.hit_dice"}})],1),n("div",{staticClass:"u-columns-6"},[n("FormInput",{attrs:{label:"STR"},model:{value:t.character.strength,callback:function(e){t.$set(t.character,"strength",t._n(e))},expression:"character.strength"}}),n("FormInput",{attrs:{label:"DEX"},model:{value:t.character.dexterity,callback:function(e){t.$set(t.character,"dexterity",t._n(e))},expression:"character.dexterity"}}),n("FormInput",{attrs:{label:"CON"},model:{value:t.character.constitution,callback:function(e){t.$set(t.character,"constitution",t._n(e))},expression:"character.constitution"}}),n("FormInput",{attrs:{label:"INT"},model:{value:t.character.intelligence,callback:function(e){t.$set(t.character,"intelligence",t._n(e))},expression:"character.intelligence"}}),n("FormInput",{attrs:{label:"WIS"},model:{value:t.character.wisdom,callback:function(e){t.$set(t.character,"wisdom",t._n(e))},expression:"character.wisdom"}}),n("FormInput",{attrs:{label:"CHR"},model:{value:t.character.charisma,callback:function(e){t.$set(t.character,"charisma",t._n(e))},expression:"character.charisma"}})],1),t._m(0),n("div",{staticClass:"u-columns-5"},[n("FormInput",{attrs:{label:"Walk"},model:{value:t.character.speed.walk,callback:function(e){t.$set(t.character.speed,"walk",t._n(e))},expression:"character.speed.walk"}}),n("FormInput",{attrs:{label:"Swim"},model:{value:t.character.speed.swim,callback:function(e){t.$set(t.character.speed,"swim",t._n(e))},expression:"character.speed.swim"}}),n("FormInput",{attrs:{label:"Climb"},model:{value:t.character.speed.climb,callback:function(e){t.$set(t.character.speed,"climb",t._n(e))},expression:"character.speed.climb"}}),n("FormInput",{attrs:{label:"Fly"},model:{value:t.character.speed.fly,callback:function(e){t.$set(t.character.speed,"fly",t._n(e))},expression:"character.speed.fly"}}),n("FormInput",{attrs:{label:"Burrow"},model:{value:t.character.speed.burrow,callback:function(e){t.$set(t.character.speed,"burrow",t._n(e))},expression:"character.speed.burrow"}})],1),n("FormInput",{attrs:{label:"Senses"},model:{value:t.character.senses,callback:function(e){t.$set(t.character,"senses",e)},expression:"character.senses"}}),n("FormInput",{attrs:{label:"Languages"},model:{value:t.character.languages,callback:function(e){t.$set(t.character,"languages",e)},expression:"character.languages"}}),n("FormInput",{attrs:{label:"Damage Immunities"},model:{value:t.character.damage_immunities,callback:function(e){t.$set(t.character,"damage_immunities",e)},expression:"character.damage_immunities"}}),n("FormInput",{attrs:{label:"Damage Resistances"},model:{value:t.character.damage_resistances,callback:function(e){t.$set(t.character,"damage_resistances",e)},expression:"character.damage_resistances"}}),n("FormInput",{attrs:{label:"Damage Vulnerabilities"},model:{value:t.character.damage_vulnerabilities,callback:function(e){t.$set(t.character,"damage_vulnerabilities",e)},expression:"character.damage_vulnerabilities"}})],1),n("form",{staticClass:"Form"},[n("h3",[t._v("Special Abilities")]),t._l(t.character.special_abilities,(function(e,a){return n("div",{key:"special-"+a,staticClass:"CharacterBuilder-removable"},[n("Collapsable",{scopedSlots:t._u([{key:"title",fn:function(){return[n("p",{staticClass:"CharacterBuilder-actionTitle"},[t._v(t._s(e.name))])]},proxy:!0},{key:"content",fn:function(){return[n("FormInput",{attrs:{label:"Name"},model:{value:e.name,callback:function(n){t.$set(e,"name",n)},expression:"specialAbility.name"}}),n("FormTextarea",{attrs:{label:"Description"},model:{value:e.desc,callback:function(n){t.$set(e,"desc",n)},expression:"specialAbility.desc"}}),n("Button",{attrs:{"is-danger":!0},on:{click:function(e){return t.removeSpecialAbility(a)}}},[t._v("- Remove "+t._s(e.name))])]},proxy:!0}],null,!0)})],1)})),n("div",[n("Button",{on:{click:t.addSpecialAbility}},[t._v("+ Add ability")])],1)],2),n("form",{staticClass:"Form"},[n("h3",[t._v("Actions")]),t._l(t.character.actions,(function(e,a){return n("div",{key:"action"+a,staticClass:"CharacterBuilder-removable"},[n("Collapsable",{scopedSlots:t._u([{key:"title",fn:function(){return[n("p",{staticClass:"CharacterBuilder-actionTitle"},[t._v(t._s(e.name))])]},proxy:!0},{key:"content",fn:function(){return[n("FormInput",{attrs:{label:"Name"},model:{value:e.name,callback:function(n){t.$set(e,"name",n)},expression:"action.name"}}),n("FormTextarea",{attrs:{label:"Description"},model:{value:e.desc,callback:function(n){t.$set(e,"desc",n)},expression:"action.desc"}}),n("Button",{attrs:{"is-danger":!0},on:{click:function(e){return t.removeAction(a)}}},[t._v("- Remove "+t._s(e.name))])]},proxy:!0}],null,!0)})],1)})),n("div",[n("Button",{on:{click:t.addAction}},[t._v("+ Add action")])],1)],2),n("form",{staticClass:"Form"},[n("h3",[t._v("Legendary Actions")]),t._l(t.character.legendary_actions,(function(e,a){return n("div",{key:"legendary-"+a,staticClass:"CharacterBuilder-removable"},[n("Collapsable",{scopedSlots:t._u([{key:"title",fn:function(){return[n("p",{staticClass:"CharacterBuilder-actionTitle"},[t._v(t._s(e.name))])]},proxy:!0},{key:"content",fn:function(){return[n("FormInput",{attrs:{label:"Name"},model:{value:e.name,callback:function(n){t.$set(e,"name",n)},expression:"legendaryAction.name"}}),n("FormTextarea",{attrs:{label:"Description"},model:{value:e.desc,callback:function(n){t.$set(e,"desc",n)},expression:"legendaryAction.desc"}}),n("Button",{attrs:{"is-danger":!0},on:{click:function(e){return t.removeLegendaryAction(a)}}},[t._v("- Remove "+t._s(e.name))])]},proxy:!0}],null,!0)})],1)})),n("Button",{on:{click:t.addLegendaryAction}},[t._v("+ Add legendary action")])],2),n("div",[n("Button",{attrs:{"is-success":!0,disabled:!t.hasChanged},on:{click:t.saveCharacter}},[t._v("Save")]),t.isNewCharacter?t._e():n("Button",{attrs:{"is-danger":!0},on:{click:t.deleteCharacter}},[t._v("Delete")])],1)])])]),n("div",{staticClass:"w-1/2"},[n("div",{staticClass:"CharacterBuild-preview u-scrollBoxParent"},[n("div",{staticClass:"u-scrollBoxChild"},[n("CharacterDetails",{attrs:{characterData:t.character}})],1)])])])])},en=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[n("b",[t._v("Speed:")])])}],nn=n("8045"),an={namespaced:!0,state:{character:new q,characterId:"",isLoading:!1},getters:{getCharacter:function(t){return t.character},getIsLoading:function(t){return t.isLoading}},mutations:{setCharacter:function(t,e){var n=e.character;t.character=n},setLoading:function(t,e){var n=e.isLoading;t.isLoading=n}},actions:{fetchCharacterById:function(t,e){var n=e.id;return Object(s["__awaiter"])(this,void 0,void 0,(function(){var e;return Object(s["__generator"])(this,(function(a){return hn(t,{isLoading:!0}),e=$.collection("monsters").doc(n),e.get().then((function(e){if(e.exists){var n=e.data(),a=new q(n);dn(t,{character:a}),hn(t,{isLoading:!1})}else console.warn("No such document!"),hn(t,{isLoading:!1})})).catch((function(e){console.error("Error getting document:",e),hn(t,{isLoading:!1})})),[2]}))}))},fetchCharacterByUuid:function(t,e){var n=e.characterUuid;return Object(s["__awaiter"])(this,void 0,void 0,(function(){var e,a;return Object(s["__generator"])(this,(function(r){return hn(t,{isLoading:!0}),e=Gr(t),a=$.doc("users/"+e+"/characters/"+n),a.get().then((function(e){if(e.exists){var n=e.data();dn(t,{character:n}),hn(t,{isLoading:!1})}else console.warn("No such document!"),hn(t,{isLoading:!1})})).catch((function(e){console.error("Error getting document:",e),hn(t,{isLoading:!1})})),[2]}))}))},saveCharacter:function(t,e){var n=e.character,a=!1;n.uuid||(n.uuid=T()(),a=!0);var r=Gr(t),i=$.doc("users/"+r+"/characters/"+n.uuid);i.set(Object(s["__assign"])({},n),{merge:!0}),a&&Tr.push({name:"editCharacter",params:{uuid:n.uuid}})},deleteCharacter:function(t,e){var n=e.characterUuid;return Object(s["__awaiter"])(this,void 0,void 0,(function(){var e;return Object(s["__generator"])(this,(function(a){return e=Gr(t),[2,$.doc("users/"+e+"/characters/"+n).delete()]}))}))}}},rn=Object(u["getStoreAccessors"])("characterBuilderModule"),cn=rn.commit,sn=rn.read,on=rn.dispatch,un=sn(an.getters.getCharacter),ln=sn(an.getters.getIsLoading),dn=cn(an.mutations.setCharacter),hn=cn(an.mutations.setLoading),pn=on(an.actions.fetchCharacterById),fn=on(an.actions.fetchCharacterByUuid),mn=on(an.actions.saveCharacter),vn=on(an.actions.deleteCharacter),bn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Form-item Form-item--input"},[n("label",{staticClass:"Form-label",attrs:{for:t.label}},[t._v(" "+t._s(t.label)+" ")]),n("select",{staticClass:"Form-element Form-element--select",on:{change:function(e){return t.$emit("input",e.target.value)}}},t._l(t.options,(function(e,a){return n("option",{key:a,domProps:{value:e.value,selected:e.value==t.optionSelected}},[t._v(" "+t._s(e.name)+" ")])})),0)])},gn=[],_n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s["__extends"])(e,t),Object(s["__decorate"])([Object(o["b"])({type:String,required:!0})],e.prototype,"label",void 0),Object(s["__decorate"])([Object(o["b"])({type:Array,required:!0})],e.prototype,"options",void 0),Object(s["__decorate"])([Object(o["b"])({type:String,required:!0})],e.prototype,"optionSelected",void 0),e=Object(s["__decorate"])([Object(o["a"])({})],e),e}(o["c"]),yn=_n,Cn=yn,xn=Object(g["a"])(Cn,bn,gn,!1,null,null,null),On=xn.exports,jn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Form-item Form-item--input"},[n("label",{staticClass:"Form-label",attrs:{for:t.random}},[t._v(" "+t._s(t.label)+": ")]),n("textarea",{staticClass:"Form-element Form-element--textArea",attrs:{id:t.random},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)}}})])},wn=[],kn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s["__extends"])(e,t),Object.defineProperty(e.prototype,"random",{get:function(){return Math.random()},enumerable:!0,configurable:!0}),Object(s["__decorate"])([Object(o["b"])({type:String,required:!0})],e.prototype,"label",void 0),Object(s["__decorate"])([Object(o["b"])({type:String,required:!1})],e.prototype,"value",void 0),e=Object(s["__decorate"])([Object(o["a"])({})],e),e}(o["c"]),In=kn,En=In,Sn=Object(g["a"])(En,jn,wn,!1,null,null,null),Dn=Sn.exports,Nn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{on:{click:function(e){t.isCollapsed=!t.isCollapsed}}},[t._t("title")],2),t.isCollapsed?t._e():n("div",[t._t("content")],2)])},$n=[],An=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isCollapsed=!0,e}return Object(s["__extends"])(e,t),e=Object(s["__decorate"])([o["a"]],e),e}(o["c"]),Pn=An,Bn=Pn,Tn=Object(g["a"])(Bn,Nn,$n,!1,null,null,null),Ln=Tn.exports;(function(t){t["aarakocra"]="Aarakocra (EEPC)",t["aasimar"]="Aasimar (VGTM)",t["bugbear"]="Bugbear (VGTM)",t["centaur"]="Centaur (EEPC/VGTM/MOoT)",t["changeling"]="Changeling (ERLW)",t["dragonborn"]="Dragonborn (PHB)",t["dwarf"]="Dwarf (PHB)",t["elf"]="Elf (PHB)",t["firbolg"]="Firbolg (VGTM)",t["genasi"]="Genasi (EEPC)",t["gith"]="Gith (MToF)",t["gnome"]="Gnome (PHB)",t["goblin"]="Goblin (VGTM)",t["goliath"]="Goliath (EEPC/ (VGTM)",t["halfelf"]="Half-Elf (PHB)",t["halforc"]="Half-Orc (PHB)",t["halfling"]="Halfling (PHB)",t["hobgoblin"]="Hobgoblin (VGTM)",t["human"]="Human (PHB)",t["kalashtar"]="Kalashtar (ERLW)",t["kenku"]="Kenku (VGTM)",t["kobold"]="Kobold (VGTM)",t["leonin"]="Leonin (MOoT)",t["lizardfolk"]="Lizardfolk (VGTM)",t["loxodon"]="Loxodon (GGtR)",t["minotaur"]="Minotaur (GGtR/MOoT)",t["orc"]="Orc (ERLW/VGTM)",t["satyr"]="Satyr (MOoT)",t["shifter"]="Shifter (ERLW)",t["simic"]="Simic Hybrid (GGtR)",t["tabaxi"]="Tabaxi (VGTM)",t["tiefling"]="Tiefling (PHB)",t["tortle"]="Tortle (TP)",t["triton"]="Triton (MOoT/VGTM)",t["vedalken"]="Vedalken (GGtR)",t["verdan"]="Verdan (AcInc)",t["warforged"]="Warforged (ERLW)",t["yuanti"]="Yuan-Ti Pureblood (VGTM)"})(Et||(Et={}));var Fn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.originalCharacter=null,e.isNewCharacter=!1,e}return Object(s["__extends"])(e,t),Object.defineProperty(e.prototype,"hasChanged",{get:function(){return!Object(L["isEqual"])(this.originalCharacter,this.character)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"optionsSize",{get:function(){return Object(nn["a"])(U).map((function(t,e){return{value:t,name:e}}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"optionsTypes",{get:function(){var t=Object(s["__assign"])(Object(s["__assign"])({},M),Et);return Object(nn["a"])(t).map((function(t,e){return{name:t,value:e}}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"optionsAlignment",{get:function(){return Object(nn["a"])(H).map((function(t){return{value:t,name:t}}))},enumerable:!0,configurable:!0}),e.prototype.saveCharacter=function(){var t=this;mn(this.$store,{character:this.character}).then((function(){t.originalCharacter=Object(s["__assign"])({},t.character)}))},e.prototype.deleteCharacter=function(){return Object(s["__awaiter"])(this,void 0,void 0,(function(){return Object(s["__generator"])(this,(function(t){switch(t.label){case 0:return[4,vn(this.$store,{characterUuid:this.character.uuid})];case 1:return t.sent(),[4,this.$router.push({name:"characters"})];case 2:return t.sent(),[2]}}))}))},e.prototype.addLegendaryAction=function(){this.character.legendary_actions.push({name:"Name",desc:"Description"})},e.prototype.removeLegendaryAction=function(t){this.character.legendary_actions.splice(t,1)},e.prototype.addSpecialAbility=function(){this.character.special_abilities.push({name:"Name",desc:"Description"})},e.prototype.removeSpecialAbility=function(t){this.character.special_abilities.splice(t,1)},e.prototype.addAction=function(){this.character.actions.push({name:"Name",desc:"Description"})},e.prototype.removeAction=function(t){this.character.actions.splice(t,1)},e.prototype.mounted=function(){this.originalCharacter=Object(L["clone"])(this.character),this.isNewCharacter=!!this.$route.query.new},Object(s["__decorate"])([Object(o["b"])({type:Object,required:!0})],e.prototype,"character",void 0),e=Object(s["__decorate"])([Object(o["a"])({components:{Button:Re,CharacterDetails:At,FormInput:Ae,FormSelect:On,FormTextarea:Dn,Collapsable:Ln}})],e),e}(o["c"]),Mn=Fn,Rn=Mn,Hn=(n("c79e"),Object(g["a"])(Rn,tn,en,!1,null,null,null)),Un=Hn.exports,qn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s["__extends"])(e,t),Object.defineProperty(e.prototype,"isLoading",{get:function(){return ln(this.$store)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"characterId",{get:function(){return this.$route.params.characterId||!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"character",{get:function(){return un(this.$store)},enumerable:!0,configurable:!0}),e.prototype.mounted=function(){this.$route.meta.edit?fn(this.$store,{characterUuid:this.$route.params.uuid}):this.$route.meta.new?dn(this.$store,{character:new q}):this.characterId&&pn(this.$store,{id:this.characterId})},e=Object(s["__decorate"])([Object(o["a"])({components:{CharacterBuilder:Un,PageTitle:y}})],e),e}(o["c"]),Gn=qn,Vn=Gn,zn=Object(g["a"])(Vn,Qe,Ze,!1,null,null,null),Wn=zn.exports,Yn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},[n("PageTitle",{attrs:{title:"Ecounters list",subtitle:"These are all your encounters."}}),n("div",{staticClass:"u-container-fluid"},[n("div",{staticClass:"flex"},[n("div",{staticClass:"w-1/2 mr-4 bg-white shadow"},[t.encounters.length>0?n("ul",{staticClass:"divide-y divide-gray-300 border-b"},t._l(t.encounters,(function(e){return n("li",{key:e.id},[n("EncounterTeaser",t._b({},"EncounterTeaser",e,!1))],1)})),0):n("p",{staticClass:"u-tip"},[t._v("Nothing here yet, please create a new encounter on the right")])]),n("div",{staticClass:"w-5/12"},[n("EncounterNew")],1)])])],1)},Jn=[],Kn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"EncounterNew card shadow"},[n("h4",[t._v("Create a new encounter")]),n("p",[t._v("An encounter is a battle that your party has to survive to reach there goals in your campaign. You can prepare as many encounters here as you want and stat them whenever it fits into your narrative. ")]),n("FormInput",{staticClass:"mb-3",attrs:{placeholder:"enter a name here...",label:"Encounter name"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submitNewEncounter(e)}},model:{value:t.encounterName,callback:function(e){t.encounterName=e},expression:"encounterName"}}),n("button",{on:{click:t.submitNewEncounter}},[t._v("Save")])],1)},Xn=[],Qn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.encounterName="",e}return Object(s["__extends"])(e,t),e.prototype.submitNewEncounter=function(){ee(this.$store,{encounterName:this.encounterName}),this.encounterName=""},e=Object(s["__decorate"])([Object(o["a"])({components:{FormInput:Ae}})],e),e}(o["c"]),Zn=Qn,ta=Zn,ea=Object(g["a"])(ta,Kn,Xn,!1,null,null,null),na=ea.exports,aa=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card card--interactive w-full"},[t.isEditingName?t._e():n("div",{on:{click:function(e){return t.toEncounterView(t.id)}}},[n("div",{staticClass:"flex justify-between"},[n("p",{staticClass:"mb-2 font-semibold"},[t._v(t._s(t.name))]),t.createdAt?n("p",{staticClass:"text-sm mb-2 italic font-light text-gray-600"},[t._v("created "+t._s(t.getReadableCreatedAt()))]):t._e()]),n("div",[n("Button",{attrs:{"is-danger":!0},on:{click:function(e){return e.stopPropagation(),t.deleteEncounter()}}},[t._v("Delete")]),n("Button",{on:{click:function(e){return e.stopPropagation(),t.renameEncounter()}}},[t._v("Rename")])],1)]),t.isEditingName?n("div",{staticClass:"Form"},[n("FormInput",{attrs:{label:"Edit encounter name",placeholder:this.name},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.saveNewName(e)}},model:{value:t.newName,callback:function(e){t.newName=e},expression:"newName"}}),n("Button",{attrs:{"is-secondary":!0},on:{click:function(e){t.isEditingName=!1}}},[t._v("Cancel")]),n("Button",{on:{click:t.saveNewName}},[t._v("Save")])],1):t._e()])},ra=[],ia=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isEditingName=!1,e.newName=e.name,e}return Object(s["__extends"])(e,t),e.prototype.toEncounterView=function(t){this.$router.push({name:"encounterDetails",params:{encounterId:this.id}})},e.prototype.deleteEncounter=function(){ae(this.$store,{encounterId:this.id})},e.prototype.saveNewName=function(){var t=this;ie(this.$store,{encounterId:this.id,newName:this.newName}).then((function(){t.isEditingName=!1}))},e.prototype.renameEncounter=function(){this.isEditingName=!this.isEditingName},e.prototype.getReadableCreatedAt=function(){if(!this.createdAt)return!1;var t=new Date(this.createdAt);return t.toLocaleDateString()+" "+t.toLocaleTimeString()},Object(s["__decorate"])([Object(o["b"])({type:String,required:!0})],e.prototype,"id",void 0),Object(s["__decorate"])([Object(o["b"])({type:String,required:!0})],e.prototype,"name",void 0),Object(s["__decorate"])([Object(o["b"])({type:Number,required:!1})],e.prototype,"createdAt",void 0),e=Object(s["__decorate"])([Object(o["a"])({components:{Button:Re,FormInput:Ae}})],e),e}(o["c"]),ca=ia,sa=ca,oa=Object(g["a"])(sa,aa,ra,!1,null,null,null),ua=oa.exports,la=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s["__extends"])(e,t),Object.defineProperty(e.prototype,"encounters",{get:function(){return Mt(this.$store)},enumerable:!0,configurable:!0}),e.prototype.mounted=function(){Kt(this.$store)},e=Object(s["__decorate"])([Object(o["a"])({components:{EncounterNew:na,EncounterTeaser:ua,PageTitle:y}})],e),e}(o["c"]),da=la,ha=da,pa=Object(g["a"])(ha,Yn,Jn,!1,null,null,null),fa=pa.exports,ma=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex mx-4"},[n("div",{staticClass:"EncounterDetails-sideColumn flex flex-col"},[n("div",{staticClass:"EncounterDetails-sideBarTitles"},[n("p",{staticClass:"EncounterDetails-tab",class:{"is-active":!t.showSearch},on:{click:function(e){t.showSearch=!1}}},[t._v(" Active character ")]),n("p",{staticClass:"EncounterDetails-tab",class:{"is-active":t.showSearch},on:{click:function(e){t.showSearch=!0}}},[t._v(" Library ")])]),n("div",{staticClass:"EncounterDetails-npcsList"},[t.showSearch?[n("CharacterLibrary",{attrs:{encounterId:t.$route.params.encounterId,buttonText:"Add"},on:{characterClicked:t.handleCharClicked}})]:[n("div",{staticClass:"u-scrollBoxParent shadow bg-white"},[n("div",{staticClass:"u-scrollBoxChild"},[t.activeCharacter?n("CharacterDetails",{attrs:{characterData:t.activeCharacter}}):t._e()],1)])]],2)]),n("div",{staticClass:"flex flex-col flex-grow mx-3"},[n("EncounterList",{attrs:{id:t.$route.params.encounterId}})],1),n("div",{staticClass:"EncounterDetails-sideColumn flex flex-col"},[n("div",{staticClass:"mt-4"},[n("div",{staticClass:"u-scrollBoxParent bg-white shadow"},[n("div",{staticClass:"u-scrollBoxChild"},[t.selectedCharacter?n("CharacterDetails",{attrs:{characterData:t.selectedCharacter}}):n("p",{staticClass:"u-tip"},[t._v("Click on a character name to see details here.")])],1)])])])])},va=[],ba=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.currentEncounter?n("div",{staticClass:"Encounter bg-white shadow-lg"},[n("div",{staticClass:"border-b"},[n("div",{staticClass:"Encounter-titleArea pt-4 pb-2 pl-4 relative"},[n("h4",{staticClass:"uppercase"},[t._v(t._s(t.currentEncounter.name))]),n("div",{staticClass:"flex"},[n("div",{staticClass:"font-light"},[t._v(" Round "),n("span",{staticClass:"Encounter-roundIndicator font-bold"},[t._v(t._s(t.currentRound))])]),n("div",{staticClass:"ml-auto"},[1===t.currentRound&&1===t.currentNpcIndex?n("Button",{attrs:{disabled:0===t.npcs.length},on:{click:t.rollInitiative}},[t._v(" Roll Initiative ")]):n("Button",{on:{click:t.reset}},[t._v(" Reset ")]),n("div",{staticClass:"Encounter-nextButton",attrs:{disabled:t.npcs.length<2},on:{click:t.nextTurn}},[n("div",{staticClass:"text-3xl"},[t._v("»")]),n("div",{staticClass:"pb-4 text-sm italic"},[t._v("Next turn")])])],1)])])]),n("div",{staticClass:"Encounter-npcsListWrapper u-scrollBoxParent"},[n("div",{staticClass:"Encounter-npcsListScrollBox u-scrollBoxChild"},[t.npcs.length>0?n("ul",{staticClass:"Encounter-npcsList divide-y divide-gray-300 border-b"},t._l(t.npcs,(function(e,a){return n("li",{key:a},[n("CharacterListItem",{attrs:{npc:e,isActive:t.currentNpcIndex-1===a,removable:!0},on:{remove:function(n){return t.removeNpcFromEncounter(e.uuid)}}})],1)})),0):n("p",{staticClass:"u-tip text-gray-600"},[t._v("Nobody is participating in this battle yet. Choose some combatans from the "),n("b",[t._v("Monsters")]),t._v(" and "),n("b",[t._v("Player Characters")]),t._v(" on the left.")])])])]):t._e()},ga=[],_a=n("53a5"),ya=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.npc?n("div",{staticClass:"CharacterListItem card--interactive",class:{"is-active":t.isActive,"is-selected":t.isSelected},on:{click:function(e){return e.stopPropagation(),t.showInDetail(e)}}},[n("div",{staticClass:"flex flex-col items-center"},[t.removable?n("span",{staticClass:"CharacterListItem-removeButton",on:{click:function(e){return t.$emit("remove")}}},[t._v("×")]):t._e(),n("div",{staticClass:"CharacterListItem-main flex justify-between items-center w-full"},[n("NpcArmorClass",{staticClass:"text-xs",attrs:{armorClass:t.npc.armor_class}}),n("h4",{staticClass:"font-semibold mb-0",class:{"font-bold":t.isActive}},[t._v(" "+t._s(t.npc.name)+" ")]),n("NpcInitiative",{staticClass:"CharacterListItem-initiative ml-auto self-start mr-5",attrs:{initiative:t.npc.initiative,uuid:t.npc.uuid}})],1)]),n("NpcHealthBar",{staticClass:"pt-2",attrs:{uuid:t.npc.uuid,hp:t.npc.hit_points_current,maxHp:t.npc.hit_points}}),n("NpcConditions",{attrs:{uuid:t.npc.uuid,condition:t.npcConditions}})],1):t._e()},Ca=[],xa=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"CharacterHealthBar w-full cursor-pointer hover:bg-gray-300 px-2 transition duration-200 rounded-md"},[n("div",{on:{click:function(e){e.stopPropagation(),t.showDialog=!0}}},[n("div",{staticClass:"flex items-center w-full"},[n("div",{staticClass:"relative flex-grow bg-gray-300 h-2 rounded overflow-hidden"},[n("div",{staticClass:"absolute top-0 left-0 h-2 bg-red-600",style:"width: "+t.hpInPercent+"%;"})]),n("div",{staticClass:"flex ml-4 w-20 justify-end"},[n("div",{staticClass:"flex items-center"},[n("span",{staticClass:"text-lg font-bold"},[t._v(t._s(t.hp))]),n("span",{staticClass:"text-sm text-gray-500 ml-1"},[t._v("/ "+t._s(t.maxHp))])])])])]),t.showDialog?n("DialogueBox",{attrs:{title:"Change this characters health"},on:{close:function(e){t.showDialog=!1},cancel:function(e){t.showDialog=!1}},scopedSlots:t._u([{key:"content",fn:function(){return[n("Button",{attrs:{"is-big":!0,"is-success":!0},on:{click:function(e){return t.changeHitPoints({subtract:!1})}}},[t._v("Heal")]),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.hitPointChangeAmount,expression:"hitPointChangeAmount",modifiers:{number:!0}}],staticClass:"Form-bigInput",attrs:{type:"number",placeholder:"Enter HP healed or damaged"},domProps:{value:t.hitPointChangeAmount},on:{input:function(e){e.target.composing||(t.hitPointChangeAmount=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),n("Button",{attrs:{"is-danger":!0,"is-big":!0},on:{click:function(e){return t.changeHitPoints()}}},[t._v("Damage")]),n("Button",{attrs:{"is-big":!0,"is-secondary":!0},on:{click:function(e){return t.resetHitPoints()}}},[t._v("Reset to full health")])]},proxy:!0}],null,!1,3089442679)}):t._e()],1)])},Oa=[],ja=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"DialogueBox-bg",on:{click:function(e){return e.preventDefault(),t.$emit("cancel")}}}),n("div",{staticClass:"DialogueBox flex flex-col"},[n("div",{staticClass:"DialogueBox-content flex-grow"},[t.title?n("div",{staticClass:"bg-gray-200 text-center p-4"},[n("h3",{staticClass:"mb-0 text-light"},[t._v(t._s(t.title))])]):t._e(),n("div",{staticClass:"p-4"},[t._t("content")],2)]),n("div",{staticClass:"DialogueBox-content flex justify-end p-4"},[t._t("actions"),t.cancel?n("Button",{attrs:{"is-secondary":!0},on:{click:function(e){return t.$emit("cancel")}}},[t._v(" Cancel ")]):t._e()],2)])])},wa=[],ka=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s["__extends"])(e,t),Object(s["__decorate"])([Object(o["b"])({type:Boolean,default:!0})],e.prototype,"cancel",void 0),Object(s["__decorate"])([Object(o["b"])({type:String,default:""})],e.prototype,"title",void 0),e=Object(s["__decorate"])([Object(o["a"])({components:{Button:Re}})],e),e}(o["c"]),Ia=ka,Ea=Ia,Sa=(n("fe03"),Object(g["a"])(Ea,ja,wa,!1,null,null,null)),Da=Sa.exports,Na=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.showDialog=!1,e.hitPointChangeAmount=0,e}return Object(s["__extends"])(e,t),Object.defineProperty(e.prototype,"hpInPercent",{get:function(){return this.hp<0?0:this.hp>this.maxHp?100:this.hp/(this.maxHp/100)},enumerable:!0,configurable:!0}),e.prototype.resetHitPoints=function(){var t=Gt(this.$store);t&&(je(this.$store,{encounterId:t,npcId:this.uuid,newHitPoints:this.maxHp}),this.showDialog=!1)},e.prototype.changeHitPoints=function(t){var e,n=(void 0===t?{subtract:!0}:t).subtract,a=Gt(this.$store);a&&(e=n?this.hp-this.hitPointChangeAmount:this.hp+this.hitPointChangeAmount,je(this.$store,{encounterId:a,npcId:this.uuid,newHitPoints:e}),this.showDialog=!1)},Object(s["__decorate"])([Object(o["b"])({type:String})],e.prototype,"uuid",void 0),Object(s["__decorate"])([Object(o["b"])({type:Number,required:!0})],e.prototype,"hp",void 0),Object(s["__decorate"])([Object(o["b"])({type:Number,required:!1})],e.prototype,"maxHp",void 0),e=Object(s["__decorate"])([Object(o["a"])({components:{Button:Re,DialogueBox:Da}})],e),e}(o["c"]),$a=Na,Aa=$a,Pa=Object(g["a"])(Aa,xa,Oa,!1,null,null,null),Ba=Pa.exports,Ta=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"NpcInitiative"},[n("span",{staticClass:"NpcInitiative-wrapper",on:{click:function(e){t.showInitiativeInput=!0}}},[n("span",{staticClass:"NpcInitiative-title"},[t._v("Initiative ")]),n("b",[t._v(t._s(t.initiative))])]),t.showInitiativeInput?n("DialogueBox",{attrs:{title:"Change this characters initiative"},on:{cancel:function(e){t.showInitiativeInput=!1}},scopedSlots:t._u([{key:"content",fn:function(){return[n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.manuelInitiative,expression:"manuelInitiative",modifiers:{number:!0}}],staticClass:"Form-bigInput",attrs:{placeholder:"Enter inititive",type:"number"},domProps:{value:t.manuelInitiative},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.setInititive(e)},input:function(e){e.target.composing||(t.manuelInitiative=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),n("Button",{attrs:{"is-big":!0},on:{click:t.setInititive}},[t._v("Set initiative")])]},proxy:!0}],null,!1,3809640808)}):t._e()],1)},La=[],Fa=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.showInitiativeInput=!1,e.manuelInitiative=0,e}return Object(s["__extends"])(e,t),e.prototype.setInititive=function(){var t=Gt(this.$store);t&&(Oe(this.$store,{encounterId:t,npcId:this.uuid,newInitiative:this.manuelInitiative}),this.showInitiativeInput=!1)},Object(s["__decorate"])([Object(o["b"])({required:!0,type:String})],e.prototype,"uuid",void 0),Object(s["__decorate"])([Object(o["b"])({required:!0,type:Number})],e.prototype,"initiative",void 0),e=Object(s["__decorate"])([Object(o["a"])({components:{Button:Re,DialogueBox:Da}})],e),e}(o["c"]),Ma=Fa,Ra=Ma,Ha=(n("84c1"),Object(g["a"])(Ra,Ta,La,!1,null,null,null)),Ua=Ha.exports,qa=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"NpcCondition mt-3"},[t._l(t.condition,(function(e,a){return t.getConditionName(e)?n("Button",{key:a,attrs:{"is-small":!0},on:{click:function(n){return t.setSelectedCondition(e)},clickPostfix:function(n){return t.removeCondition(e)}},scopedSlots:t._u([{key:"default",fn:function(){return[t._v(t._s(t.getConditionName(e)))]},proxy:!0},{key:"postfix",fn:function(){return[t._v("-")]},proxy:!0}],null,!0)}):t._e()})),n("Button",{attrs:{"is-small":!0,"is-secondary":!0},on:{click:function(e){t.showConditionSelect=!t.showConditionSelect}}},[t._v(" + "),[].length<4?[t._v(" condition")]:t._e()],2),t.showConditionSelect?n("DialogueBox",{attrs:{title:"Add a status effect to this character"},on:{cancel:function(e){t.showConditionSelect=!1}},scopedSlots:t._u([{key:"content",fn:function(){return[t._l(t.npcConditions,(function(e,a){return n("Button",{key:a,staticClass:"ml-0 mr-2 mt-1",on:{click:function(n){return t.addCondition(e.id)},clickPrefix:function(n){t.selectedCondition=e}},scopedSlots:t._u([{key:"prefix",fn:function(){return[n("em",[t._v("i")])]},proxy:!0}],null,!0)},[t._v(" "+t._s(e.name)+" ")])})),t.selectedCondition?[n("h4",{staticClass:"mt-4"},[t._v(t._s(t.selectedCondition.name))]),n("ul",{staticClass:"u-list"},t._l(t.selectedCondition.effects,(function(e,a){return n("li",{key:a},[t._v(t._s(e))])})),0)]:t._e()]},proxy:!0}],null,!1,1889585315)}):t._e(),t.showConditionDescription?n("DialogueBox",{attrs:{title:"The "+t.selectedCondition.name+" condition"},on:{cancel:function(e){t.showConditionDescription=!1}},scopedSlots:t._u([{key:"content",fn:function(){return[n("p",[n("em",[t._v("These are the effects of the "+t._s(t.selectedCondition.name)+" condition:")])]),n("ul",{staticClass:"u-list"},t._l(t.selectedCondition.effects,(function(e,a){return n("li",{key:a},[t._v(t._s(e))])})),0)]},proxy:!0}],null,!1,2184873783)}):t._e()],2)},Ga=[],Va=[{name:"Blinded",id:"blinded",effects:["A blinded creature can’t see and automatically fails any ability check that requires sight.","Attack rolls against the creature have advantage, and the creature’s attack rolls have disadvantage."]},{name:"Charmed",id:"charmed",effects:["A charmed creature can’t attack the charmer or target the charmer with harmful abilities or magical effects.","The charmer has advantage on any ability check to interact socially with the creature."]},{name:"Deafened",id:"deafened",effects:["A deafened creature can’t hear and automatically fails any ability check that requires hearing."]},{name:"Frightened",id:"frightened",effects:["A frightened creature has disadvantage on Ability Checks and Attack rolls while the source of its fear is within line of sight.","The creature can’t willingly move closer to the source of its fear."]},{name:"Grappled",id:"grappled",effects:["A grappled creature’s speed becomes 0, and it can’t benefit from any bonus to its speed.","The condition ends if the Grappler is incapacitated (see the condition).","The condition also ends if an Effect removes the grappled creature from the reach of the Grappler or Grappling Effect, such as when a creature is hurled away by the Thunderwave spell."]},{name:"Incapacitated",id:"incapacitated",effects:["An incapacitated creature can’t take Actions or Reactions."]},{name:"Invisible",id:"invisible",effects:["An invisible creature is impossible to see without the aid of magic or a Special sense. For the purpose of Hiding, the creature is heavily obscured. The creature’s location can be detected by any noise it makes or any tracks it leaves.","Attack rolls against the creature have disadvantage, and the creature’s Attack rolls have advantage."]},{name:"Paralyzed",id:"paralyzed",effects:["A paralyzed creature is incapacitated (see the condition) and can’t move or speak.","The creature automatically fails Strength and Dexterity Saving Throws.","Attack rolls against the creature have advantage.","Any Attack that hits the creature is a critical hit if the attacker is within 5 feet of the creature."]},{name:"Petrified",id:"petrified",effects:["A petrified creature is transformed, along with any nonmagical object it is wearing or carrying, into a solid inanimate substance (usually stone). Its weight increases by a factor of ten, and it ceases aging.","The creature is incapacitated (see the condition), can’t move or speak, and is unaware of its surroundings.","Attack rolls against the creature have advantage.","The creature automatically fails Strength and Dexterity Saving Throws.","The creature has Resistance to all damage.","The creature is immune to poison and disease, although a poison or disease already in its system is suspended, not neutralized."]},{name:"Poisoned",id:"poisoned",effects:["A poisoned creature has disadvantage on Attack rolls and Ability Checks."]},{name:"Restrained",id:"restrained",effects:["A stunned creature is incapacitated (see the condition), can’t move, and can speak only falteringly.","The creature automatically fails Strength and Dexterity Saving Throws.","Attack rolls against the creature have advantage."]},{name:"Stunned",id:"stunned",effects:["A stunned creature is incapacitated (see the condition), can’t move, and can speak only falteringly.","The creature automatically fails Strength and Dexterity Saving Throws.","Attack rolls against the creature have advantage."]},{name:"Unconscious",id:"unconscious",effects:["An unconscious creature is incapacitated (see the condition), can’t move or speak, and is unaware of its surroundings","The creature drops whatever it’s holding and falls prone.","The creature automatically fails Strength and Dexterity Saving Throws.","Attack rolls against the creature have advantage.","Any Attack that hits the creature is a critical hit if the attacker is within 5 feet of the creature."]},{name:"Exhaustion 1",id:"exhaustion_1",effects:["1 Disadvantage on Ability Checks","2 Speed halved","3 Disadvantage on Attack rolls and Saving Throws","4 Hit point maximum halved","5 Speed reduced to 0","6 Death"]},{name:"Exhaustion 2",id:"exhaustion_2",effects:["1 Disadvantage on Ability Checks","2 Speed halved","3 Disadvantage on Attack rolls and Saving Throws","4 Hit point maximum halved","5 Speed reduced to 0","6 Death"]},{name:"Exhaustion 3",id:"exhaustion_3",effects:["1 Disadvantage on Ability Checks","2 Speed halved","3 Disadvantage on Attack rolls and Saving Throws","4 Hit point maximum halved","5 Speed reduced to 0","6 Death"]},{name:"Exhaustion 4",id:"exhaustion_4",effects:["1 Disadvantage on Ability Checks","2 Speed halved","3 Disadvantage on Attack rolls and Saving Throws","4 Hit point maximum halved","5 Speed reduced to 0","6 Death"]},{name:"Exhaustion 5",id:"exhaustion_5",effects:["1 Disadvantage on Ability Checks","2 Speed halved","3 Disadvantage on Attack rolls and Saving Throws","4 Hit point maximum halved","5 Speed reduced to 0","6 Death"]},{name:"Exhaustion 6",id:"exhaustion_6",effects:["1 Disadvantage on Ability Checks","2 Speed halved","3 Disadvantage on Attack rolls and Saving Throws","4 Hit point maximum halved","5 Speed reduced to 0","6 Death"]}],za=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.showConditionSelect=!1,e.showConditionDescription=!1,e.npcConditions=Va,e.selectedCondition=null,e}return Object(s["__extends"])(e,t),e.prototype.addCondition=function(t){this.selectedCondition=null;var e=Gt(this.$store);e&&(Ce(this.$store,{encounterId:e,npcId:this.uuid,newCondition:t}),this.showConditionSelect=!1)},e.prototype.getConditionName=function(t){var e=this.npcConditions.find((function(e){return e.id===t}));return!!e&&e.name},e.prototype.setSelectedCondition=function(t){var e=this.npcConditions.find((function(e){return e.id===t}));e&&(this.selectedCondition=e,this.showConditionDescription=!0)},e.prototype.removeCondition=function(t){var e=Gt(this.$store);e&&xe(this.$store,{encounterId:e,npcId:this.uuid,conditionId:t})},Object(s["__decorate"])([Object(o["b"])({required:!0,type:String})],e.prototype,"uuid",void 0),Object(s["__decorate"])([Object(o["b"])({required:!0,type:Array})],e.prototype,"condition",void 0),e=Object(s["__decorate"])([Object(o["a"])({components:{DialogueBox:Da,Button:Re}})],e),e}(o["c"]),Wa=za,Ya=Wa,Ja=(n("1010"),Object(g["a"])(Ya,qa,Ga,!1,null,null,null)),Ka=Ja.exports,Xa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s["__extends"])(e,t),Object.defineProperty(e.prototype,"selectedNpcUuid",{get:function(){return Ht(this.$store)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSelected",{get:function(){return this.npc.uuid===this.selectedNpcUuid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"npcConditions",{get:function(){return this.npc.conditions||[]},enumerable:!0,configurable:!0}),e.prototype.showInDetail=function(){this.npc&&Jt(this.$store,this.npc)},Object(s["__decorate"])([Object(o["b"])({type:Boolean,required:!0})],e.prototype,"removable",void 0),Object(s["__decorate"])([Object(o["b"])({type:Object,required:!0})],e.prototype,"npc",void 0),Object(s["__decorate"])([Object(o["b"])({type:Boolean,required:!0})],e.prototype,"isActive",void 0),e=Object(s["__decorate"])([Object(o["a"])({components:{NpcHealthBar:Ba,NpcInitiative:Ua,NpcConditions:Ka,NpcArmorClass:yt}})],e),e}(o["c"]),Qa=Xa,Za=Qa,tr=(n("cdb3"),Object(g["a"])(Za,ya,Ca,!1,null,null,null)),er=tr.exports,nr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return Object(s["__extends"])(e,t),n=e,Object.defineProperty(e.prototype,"currentEncounter",{get:function(){return Ut(this.$store)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentRound",{get:function(){return this.currentEncounter.round},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentNpcIndex",{get:function(){return this.currentEncounter?this.currentEncounter.activeEntityIndex:1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"npcs",{get:function(){return Vt(this.$store)},enumerable:!0,configurable:!0}),e.prototype.removeNpcFromEncounter=function(t){te(this.$store,{npcID:t,encounterId:this.id}),this.currentNpcIndex>this.npcs.length-1&&ne(this.$store,{encounterId:this.id,activeEntityIndex:this.npcs.length-1||1})},e.prototype.rollInitiative=function(){var t=this;this.currentEncounter&&this.npcs&&(this.npcs.forEach((function(e){var n=rt(e.dexterity),a=new _a["DiceRoll"]("1d20"+n);Oe(t.$store,{encounterId:t.id,npcId:e.uuid,newInitiative:a.total})})),ne(this.$store,{encounterId:this.id,activeEntityIndex:1}),re(this.$store,{encounterId:this.id,newRoundIndex:1}))},e.prototype.reset=function(){re(this.$store,{encounterId:this.id,newRoundIndex:1}),ne(this.$store,{encounterId:this.id,activeEntityIndex:1})},e.prototype.nextTurn=function(){var t=this.npcs[this.currentNpcIndex-1];t?this.currentNpcIndex===this.npcs.length?(re(this.$store,{encounterId:this.id,newRoundIndex:this.currentRound+1}),ne(this.$store,{encounterId:this.id,activeEntityIndex:1})):ne(this.$store,{encounterId:this.id,activeEntityIndex:this.currentNpcIndex+1}):console.warn("No npc for next round found.")},Object(s["__decorate"])([Object(o["b"])({type:String,required:!0})],e.prototype,"id",void 0),e=n=Object(s["__decorate"])([Object(o["a"])({components:{Button:Re,CharacterListItem:er,Encounter:n}})],e),e}(o["c"]),ar=nr,rr=ar,ir=(n("4f38"),Object(g["a"])(rr,ba,ga,!1,null,null,null)),cr=ir.exports,sr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.showSearch=!0,e}return Object(s["__extends"])(e,t),Object.defineProperty(e.prototype,"selectedCharacter",{get:function(){return Rt(this.$store)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeCharacter",{get:function(){return qt(this.$store)},enumerable:!0,configurable:!0}),e.prototype.handleCharClicked=function(t){this.$route.params.encounterId&&Zt(this.$store,{npcData:Object.assign({},t),encounterId:this.$route.params.encounterId})},e.prototype.mounted=function(){Xt(this.$store,{encounterId:this.$route.params.encounterId})},e=Object(s["__decorate"])([Object(o["a"])({components:{EncounterList:cr,CharacterLibrary:ze,CharacterDetails:At}})],e),e}(o["c"]),or=sr,ur=or,lr=(n("6b15"),Object(g["a"])(ur,ma,va,!1,null,null,null)),dr=lr.exports,hr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"firebaseui-auth-container"}})},pr=[],fr=n("2398"),mr=n("8aa5"),vr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s["__extends"])(e,t),e.prototype.mounted=function(){var t={signInSuccessUrl:"/about",signInOptions:[mr.auth.EmailAuthProvider.PROVIDER_ID,mr.auth.GoogleAuthProvider.PROVIDER_ID,mr.auth.TwitterAuthProvider.PROVIDER_ID]},e=fr.auth.AuthUI.getInstance()||new fr.auth.AuthUI(mr.auth());e.start("#firebaseui-auth-container",t)},e=Object(s["__decorate"])([o["a"]],e),e}(o["c"]),br=vr,gr=br,_r=Object(g["a"])(gr,hr,pr,!1,null,null,null),yr=_r.exports,Cr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("p",[t._v("Register")]),n("div",[n("label",{attrs:{for:"email"}},[t._v("Email")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"email",placeholder:"name@mail.com"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),n("div",[n("label",{attrs:{for:"password"}},[t._v("Password")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),n("button",{on:{click:t.submit}},[t._v("Submit")])])},xr=[],Or=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.email="",e.password="",e}return Object(s["__extends"])(e,t),e.prototype.submit=function(){},e=Object(s["__decorate"])([o["a"]],e),e}(o["c"]),jr=Or,wr=jr,kr=Object(g["a"])(wr,Cr,xr,!1,null,null,null),Ir=kr.exports,Er=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"UserDetails"},[n("div",{},[n("PageTitle",{attrs:{title:"User Details"}}),n("div",{staticClass:"card w-3/12"},[t.photoUrl?n("img",{staticClass:"mb-4",attrs:{src:t.photoUrl,alt:"User Avatar"}}):t._e(),n("p",[n("span",{staticClass:"font-bold"},[t._v("Name:")]),t._v(" "+t._s(t.displayName))]),n("p",[n("span",{staticClass:"font-bold"},[t._v("Email:")]),t._v(" "+t._s(t.email))])])],1)])},Sr=[],Dr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s["__extends"])(e,t),Object.defineProperty(e.prototype,"photoUrl",{get:function(){return Vr(this.$store)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayName",{get:function(){return qr(this.$store)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"email",{get:function(){return zr(this.$store)},enumerable:!0,configurable:!0}),e=Object(s["__decorate"])([Object(o["a"])({components:{PageTitle:y}})],e),e}(o["c"]),Nr=Dr,$r=Nr,Ar=Object(g["a"])($r,Er,Sr,!1,null,null,null),Pr=Ar.exports;a["default"].use(l["a"]);var Br=new l["a"]({mode:"history",base:"/",linkExactActiveClass:"is-activeExact",linkActiveClass:"is-active",routes:[{path:"/",name:"home",component:w},{path:"/user",name:"userdetails",component:Pr},{path:"/characters",name:"characters",component:Xe,meta:{requiresAuth:!0}},{path:"/characters/edit/:uuid",name:"editCharacter",component:Wn,meta:{requiresAuth:!0,edit:!0}},{path:"/characters/builder",name:"characterBuilder",component:Wn,meta:{requiresAuth:!0,new:!0}},{path:"/characters/builder/:characterId",name:"characterCreate",component:Wn,meta:{requiresAuth:!0}},{path:"/encounters",name:"encounters",component:fa,meta:{requiresAuth:!0}},{path:"/encounters/:encounterId",name:"encounterDetails",component:dr,meta:{requiresAuth:!0}},{path:"/login",name:"login",component:yr},{path:"/register",name:"register",component:Ir}]});Br.beforeEach((function(t,e,n){var a=t.matched.some((function(t){return t.meta.requiresAuth}));a&&!A()?n({name:"login",query:{redirect:t.name}}):A()&&["login","register"].includes(t.name)?n({name:"home"}):n()}));var Tr=Br,Lr={namespaced:!0,state:{user:null},getters:{isLoggedIn:function(t){return null!==t.user},getUserObj:function(t){return t.user},getUserString:function(t){return t.user?t.user.displayName?t.user.displayName:t.user.email:null},getUserPhotoUrl:function(t){return t.user?!!t.user.photoURL&&t.user.photoURL:null},getUserEmail:function(t){return t.user?t.user.email?t.user.email:"No email provided":null},getUserUid:function(t){return!!t.user&&t.user.uid}},actions:{validateUser:function(t,e){return Object(s["__awaiter"])(this,void 0,Promise,(function(){var n,a;return Object(s["__generator"])(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,E.auth().signInWithEmailAndPassword(e.email,e.password)];case 1:return n=r.sent(),Jr(t,n.user),Tr.push({name:"home"}),[3,3];case 2:return a=r.sent(),console.warn("Error",a),[3,3];case 3:return[2]}}))}))},logoutUser:function(t){return Object(s["__awaiter"])(this,void 0,void 0,(function(){var e;return Object(s["__generator"])(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,E.auth().signOut()];case 1:return n.sent(),Jr(t,null),Tr.push({name:"home"}),[3,3];case 2:return e=n.sent(),console.warn("Error",e),[3,3];case 3:return[2]}}))}))},loginUser:function(t,e){Jr(t,e)}},mutations:{setUser:function(t,e){t.user=e}}},Fr=Object(u["getStoreAccessors"])("usersModule"),Mr=Fr.commit,Rr=Fr.read,Hr=Fr.dispatch,Ur=Rr(Lr.getters.isLoggedIn),qr=Rr(Lr.getters.getUserString),Gr=Rr(Lr.getters.getUserUid),Vr=Rr(Lr.getters.getUserPhotoUrl),zr=Rr(Lr.getters.getUserEmail),Wr=(Hr(Lr.actions.validateUser),Hr(Lr.actions.logoutUser)),Yr=Hr(Lr.actions.loginUser),Jr=Mr(Lr.mutations.setUser),Kr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"MainMenu bg-gray-600"},[n("div",{staticClass:"u-container-fluid"},[n("div",{staticClass:"justify-between items-center flex h-12 text-gray-100"},[t.isLoggedIn?[n("div",{staticClass:"flex items-center"},[n("router-link",{attrs:{to:{name:"home"}}},[n("div",{staticClass:"flex items-center mr-3"},[n("SvgIcon",{staticClass:"text-red-600",attrs:{name:"logo"}}),n("p",{staticClass:"ml-2 font-bold MainMenu-link mb-0"},[t._v("BETTER INITIATIVE")])],1)]),n("router-link",{staticClass:"MainMenu-link",attrs:{to:{name:"encounters"}}},[t._v("Encounters")]),n("router-link",{staticClass:"MainMenu-link",attrs:{to:{name:"characters"}}},[t._v("Characters")])],1),n("div",{staticClass:"ml-auto"},[n("router-link",{staticClass:"MainMenu-link",attrs:{to:{name:"userdetails"}}},[t._v(t._s(t.currentUserString))]),n("a",{staticClass:"MainMenu-link",attrs:{href:"#"},on:{click:t.logoutUser}},[t._v("Logout")])],1)]:[n("div",{staticClass:"flex items-center"},[n("router-link",{staticClass:"MainMenu-link",attrs:{to:{name:"home"}}},[t._v("Home")]),n("router-link",{staticClass:"MainMenu-link",attrs:{to:{name:"register"}}},[t._v("Register")])],1),n("div",[n("router-link",{staticClass:"MainMenu-link",attrs:{to:{name:"login"}}},[t._v("Login")])],1)]],2)])])},Xr=[],Qr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s["__extends"])(e,t),e.prototype.logoutUser=function(){Wr(this.$store)},Object.defineProperty(e.prototype,"isLoggedIn",{get:function(){return Ur(this.$store)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentUserString",{get:function(){return qr(this.$store)||"ERROR getting username"},enumerable:!0,configurable:!0}),e=Object(s["__decorate"])([Object(o["a"])({components:{SvgIcon:mt}})],e),e}(o["c"]),Zr=Qr,ti=Zr,ei=(n("c83d"),Object(g["a"])(ti,Kr,Xr,!1,null,null,null)),ni=ei.exports,ai=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s["__extends"])(e,t),e.prototype.logoutUser=function(){Wr(this.$store)},Object.defineProperty(e.prototype,"isLoggedIn",{get:function(){return Ur(this.$store)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"monsters",{get:function(){return ge(this.$store)},enumerable:!0,configurable:!0}),e.prototype.mounted=function(){return Object(s["__awaiter"])(this,void 0,void 0,(function(){return Object(s["__generator"])(this,(function(t){switch(t.label){case 0:return this.monsters.length<1?[4,ye(this.$store)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},e=Object(s["__decorate"])([Object(o["a"])({components:{MainMenu:ni}})],e),e}(o["c"]),ri=ai,ii=ri,ci=(n("034f"),Object(g["a"])(ii,i,c,!1,null,null,null)),si=ci.exports,oi=n("2f62");a["default"].use(oi["a"]);var ui={state:{version:"1.0.0"},modules:{usersModule:Lr,npcsModule:pe,encountersModule:Pt,charactersModule:G,characterBuilderModule:an}},li=new oi["a"].Store(ui);a["default"].config.productionTip=!1,a["default"].use(r["a"]),a["default"].prototype.$fireLoginUi=null,E.auth().onAuthStateChanged((function(t){t?Yr(li,t):Tr.push("/login");new a["default"]({el:"#app",router:Tr,store:li,render:function(t){return t(si)}})}))},cdb3:function(t,e,n){"use strict";var a=n("02e6"),r=n.n(a);r.a},da36:function(t,e,n){},e009:function(t,e,n){},eb38:function(t,e,n){"use strict";n.r(e),e["default"]={id:"plus-usage",viewBox:"0 0 50 50",url:n.p+"img/icons.bacb3c2a.svg#plus",toString:function(){return this.url}}},f149:function(t,e,n){},fda0:function(t,e){},fe03:function(t,e,n){"use strict";var a=n("b684"),r=n.n(a);r.a}});
//# sourceMappingURL=app.e91f7cc5.js.map